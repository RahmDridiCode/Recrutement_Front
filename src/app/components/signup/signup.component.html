<app-header></app-header>

<main class="bg-muted/30 text-foreground min-h-screen px-4 py-16 flex items-center">
  <div class="container mx-auto max-w-6xl">
    <div class="glass rounded-3xl shadow-2xl overflow-hidden">
      <div class="grid gap-10 lg:grid-cols-2 p-8 lg:p-12 items-start">
        <div class="space-y-6">
          <span class="inline-flex items-center gap-2 rounded-full bg-primary/10 text-primary px-4 py-1 text-sm font-semibold">
            <span class="w-2 h-2 rounded-full bg-primary"></span>
            Rejoignez StageWise
          </span>
          <h1 class="text-4xl font-display font-bold">Créez votre compte en quelques secondes</h1>
          <p class="text-lg text-muted-foreground">
            Des alertes personnalisées, un suivi de candidatures simplifié et une visibilité accrue auprès des meilleures entreprises.
          </p>
          <div class="space-y-4">
            <div class="flex items-start gap-3">
              <div class="w-12 h-12 rounded-2xl bg-primary/10 text-primary flex items-center justify-center">
                <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20 6L9 17l-5-5"></path>
                </svg>
              </div>
              <div>
                <p class="font-semibold">Portfolio dynamique</p>
                <p class="text-sm text-muted-foreground">Ajoutez vos projets, expériences et compétences clés en toute simplicité.</p>
              </div>
            </div>
            <div class="flex items-start gap-3">
              <div class="w-12 h-12 rounded-2xl bg-primary/10 text-primary flex items-center justify-center">
                <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M5 12h14"></path>
                  <path d="M12 5l7 7-7 7"></path>
                </svg>
              </div>
              <div>
                <p class="font-semibold">Recommandations intelligentes</p>
                <p class="text-sm text-muted-foreground">Recevez des propositions d'offres selon vos ambitions et votre profil.</p>
              </div>
            </div>
          </div>
          <div class="text-sm">
            <span class="text-muted-foreground">Déjà membre ?</span>
            <a routerLink="/login" class="font-semibold text-primary hover:text-primary/80 ml-2">Connectez-vous</a>
          </div>
        </div>

        <form [formGroup]="signupForm" (ngSubmit)="inscrit()" class="bg-background/90 border border-border shadow-xl rounded-2xl p-8 space-y-6">
          <div class="grid gap-4 md:grid-cols-2">
            <div class="space-y-2">
              <label class="text-sm font-medium" for="nom">Nom</label>
              <input id="nom" type="text" formControlName="nom" placeholder="Votre nom"
                     class="w-full rounded-xl border border-input bg-background px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-ring"
                     [ngClass]="{'form-invalid': signupForm.controls['nom'].invalid && (signupForm.controls['nom'].touched || invalid)}" />
            </div>
            <div class="space-y-2">
              <label class="text-sm font-medium" for="prenom">Prénom</label>
              <input id="prenom" type="text" formControlName="prenom" placeholder="Votre prénom"
                     class="w-full rounded-xl border border-input bg-background px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-ring"
                     [ngClass]="{'form-invalid': signupForm.controls['prenom'].invalid && (signupForm.controls['prenom'].touched || invalid)}" />
            </div>
          </div>

          <div class="grid gap-4 md:grid-cols-2">
            <div class="space-y-2">
              <label class="text-sm font-medium" for="email">Email</label>
              <input id="email" type="email" formControlName="email" placeholder="vous@email.com"
                     class="w-full rounded-xl border border-input bg-background px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-ring"
                     [ngClass]="{'form-invalid': signupForm.controls['email'].invalid && (signupForm.controls['email'].touched || invalid)}" />
            </div>
            <div class="space-y-2">
              <label class="text-sm font-medium" for="telephone">Téléphone</label>
              <input id="telephone" type="tel" formControlName="telephone" placeholder="Ex: 55 555 555"
                     class="w-full rounded-xl border border-input bg-background px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-ring"
                     [ngClass]="{'form-invalid': signupForm.controls['telephone'].invalid && (signupForm.controls['telephone'].touched || invalid)}" />
            </div>
          </div>

          <div class="space-y-2">
            <label class="text-sm font-medium" for="address">Adresse</label>
            <input id="address" type="text" formControlName="address" placeholder="Ville, pays"
                   class="w-full rounded-xl border border-input bg-background px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-ring"
                   [ngClass]="{'form-invalid': signupForm.controls['address'].invalid && (signupForm.controls['address'].touched || invalid)}" />
          </div>

          <div class="space-y-2">
            <label class="text-sm font-medium" for="password">Mot de passe</label>
            <input id="password" type="password" formControlName="mdp" placeholder="••••••••"
                   class="w-full rounded-xl border border-input bg-background px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-ring"
                   [ngClass]="{'form-invalid': signupForm.controls['mdp'].invalid && (signupForm.controls['mdp'].touched || invalid)}" />
            <p class="text-xs text-muted-foreground">Minimum 6 caractères</p>
          </div>

          <div class="space-y-2">
            <label class="text-sm font-medium" for="role">Vous êtes</label>
            <div class="relative">
              <select id="role" formControlName="role"
                      class="w-full appearance-none rounded-xl border border-input bg-background px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-ring"
                      [ngClass]="{'form-invalid': signupForm.controls['role'].invalid && (signupForm.controls['role'].touched || invalid)}">
                <option value="" disabled>Choisissez un rôle</option>
                <option value="STUDENT">Étudiant</option>
                <option value="RECRUTER">Recruteur</option>
              </select>
              <svg class="pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m6 9 6 6 6-6" />
              </svg>
            </div>
          </div>

          <button type="submit" class="w-full inline-flex items-center justify-center rounded-xl bg-primary px-4 py-3 text-sm font-semibold text-primary-foreground transition hover:bg-primary/90">
            Créer mon compte
          </button>

          <p *ngIf="invalid" class="error">Merci de remplir tous les champs requis.</p>
        </form>
      </div>
    </div>
  </div>
</main>

<app-footer></app-footer>
